"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[161],{161:(v,d,n)=>{n.r(d),n.d(d,{LoginPageModule:()=>y});var g=n(7682),a=n(4728),i=n(5019),m=n(4696),u=n(6097),f=n(4235),t=n(5506),c=n(1005);const p=[{path:"",component:(()=>{class r{constructor(o,s,e,l){this.navCtrl=o,this.auth=s,this.alertCtrl=e,this.loadingCtrl=l,this.form=new a.cw({}),this.model={email:"",password:""},this.fields=[{key:"email",type:"input",templateOptions:{labelPosition:"stacked",label:"E-mail",type:"email",required:!0}},{key:"password",type:"input",templateOptions:{labelPosition:"stacked",label:"Senha",type:"password",required:!0}}]}forgot(){this.navCtrl.navigateForward("forgot")}ngOnInit(){}onSubmit(){var o=this;return(0,u.Z)(function*(){const s=yield o.loadingCtrl.create();yield s.present(),console.log("login",o.model);try{yield o.auth.login(o.model.email,o.model.password).toPromise();yield s.dismiss(),o.navCtrl.navigateRoot("/admin")}catch(e){console.error(e),yield s.dismiss(),yield(yield o.alertCtrl.create({header:"Erro!",message:e&&e?.error&&e?.error?.message?e?.error?.message:"Erro fatal",buttons:["Ok"]})).present(),o.form.get("password")?.setValue(null),o.form.get("password")?.clearValidators(),o.form.get("password")?.markAsPristine(),o.form.get("password")?.markAsUntouched(),o.form.get("password")?.clearAsyncValidators(),o.form.get("password")?.reset()}})()}static#t=this.\u0275fac=function(s){return new(s||r)(t.Y36(i.SH),t.Y36(f.e),t.Y36(i.Br),t.Y36(i.HT))};static#o=this.\u0275cmp=t.Xpm({type:r,selectors:[["seyconel-login"]],decls:14,vars:5,consts:[[1,"shadow-form","ion-padding"],[3,"formGroup","ngSubmit"],[1,"ion-text-center"],[3,"src"],[3,"form","fields","model"],[1,"ion-no-padding"],["type","submit","color","primary","expand","block"]],template:function(s,e){1&s&&(t.TgZ(0,"ion-content")(1,"div",0)(2,"form",1),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(3,"ion-grid")(4,"ion-row")(5,"ion-col",2),t._UZ(6,"ion-img",3),t.qZA()(),t.TgZ(7,"ion-row")(8,"ion-col"),t._UZ(9,"formly-form",4),t.qZA()(),t.TgZ(10,"ion-row")(11,"ion-col",5)(12,"ion-button",6),t._uU(13,"Entrar"),t.qZA()()()()()()()),2&s&&(t.xp6(2),t.Q6J("formGroup",e.form),t.xp6(4),t.Q6J("src","assets/logo.png"),t.xp6(3),t.Q6J("form",e.form)("fields",e.fields)("model",e.model))},dependencies:[a._Y,a.JL,a.sg,c.T7,i.YG,i.wI,i.W2,i.jY,i.Xz,i.Nd],styles:["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{max-width:420px;width:100%;display:block;margin:0 auto}"]})}return r})()}];let h=(()=>{class r{static#t=this.\u0275fac=function(s){return new(s||r)};static#o=this.\u0275mod=t.oAB({type:r});static#e=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(p),m.Bz]})}return r})(),y=(()=>{class r{static#t=this.\u0275fac=function(s){return new(s||r)};static#o=this.\u0275mod=t.oAB({type:r});static#e=this.\u0275inj=t.cJS({imports:[g.ez,a.u5,a.UX,c.X0,i.Pc,h]})}return r})()}}]);